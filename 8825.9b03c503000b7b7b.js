"use strict";(self.webpackChunkghoastrental_dashboard=self.webpackChunkghoastrental_dashboard||[]).push([[8825],{8601:(P,M,c)=>{c.d(M,{Q:()=>T});var i=c(4650),_=c(6895);const t=function(u){return{active:u}};function h(u,v){if(1&u){const g=i.EpF();i.TgZ(0,"li",13)(1,"a",3),i.NdJ("click",function(){const p=i.CHM(g).$implicit,Z=i.oxw(2);return i.KtG(Z.setPage(p))}),i._uU(2),i.qZA()()}if(2&u){const g=v.$implicit,o=i.oxw(2);i.Q6J("ngClass",i.VKq(2,t,o.pager.currentPage===g)),i.xp6(2),i.Oqu(g)}}const f=function(u){return{disabled:u}};function U(u,v){if(1&u){const g=i.EpF();i.TgZ(0,"ul",1)(1,"li",2)(2,"a",3),i.NdJ("click",function(){i.CHM(g);const n=i.oxw();return i.KtG(n.setPage(1))}),i._UZ(3,"span",4),i.qZA()(),i.TgZ(4,"li",5)(5,"a",6),i.NdJ("click",function(){i.CHM(g);const n=i.oxw();return i.KtG(n.setPage(n.pager.currentPage-1))}),i._UZ(6,"span",7),i.qZA()(),i.YNc(7,h,3,4,"li",8),i.TgZ(8,"li",9)(9,"a",6),i.NdJ("click",function(){i.CHM(g);const n=i.oxw();return i.KtG(n.setPage(n.pager.currentPage+1))}),i._UZ(10,"span",10),i.qZA()(),i.TgZ(11,"li",11)(12,"a",3),i.NdJ("click",function(){i.CHM(g);const n=i.oxw();return i.KtG(n.setPage(n.pager.totalPages))}),i._UZ(13,"span",12),i.qZA()()()}if(2&u){const g=i.oxw();i.xp6(1),i.Q6J("ngClass",i.VKq(5,f,1===g.pager.currentPage)),i.xp6(3),i.Q6J("ngClass",i.VKq(7,f,1===g.pager.currentPage)),i.xp6(3),i.Q6J("ngForOf",g.pager.pages),i.xp6(1),i.Q6J("ngClass",i.VKq(9,f,g.pager.currentPage===g.pager.totalPages)),i.xp6(3),i.Q6J("ngClass",i.VKq(11,f,g.pager.currentPage===g.pager.totalPages))}}let T=(()=>{const v=class{constructor(){this.count=0,this.changePage=new i.vpe(!0),this.initialPage=1,this.pageSize=10,this.maxPages=10,this.limit=10,this.pager={}}ngOnInit(){this.count&&this.count>0&&this.setPage(this.initialPage)}ngOnChanges(o){o.count.currentValue&&o.count.previousValue&&o.count.currentValue!==o.count.previousValue&&this.setPage(this.initialPage)}paginate(o,n,p,Z){void 0===n&&(n=1),void 0===p&&(p=10),void 0===Z&&(Z=10);var x=Math.ceil(o/p);let A,b;if(n<1?n=1:n>x&&(n=x),x<=Z)A=1,b=x;else{var y=Math.floor(Z/2),E=Math.ceil(Z/2)-1;n<=y?(A=1,b=Z):n+E>=x?(A=x-Z+1,b=x):(A=n-y,b=n+E)}var N=(n-1)*p,w=Math.min(N+p-1,o-1),F=Array.from(Array(b+1-A).keys()).map(function(J){return A+J});return{totalItems:o,currentPage:n,pageSize:p,totalPages:x,startPage:A,endPage:b,startIndex:N,endIndex:w,pages:F}}setPage(o,n){this.pager=this.paginate(this.count,o,this.pageSize,this.maxPages),n||this.changePage.emit(o)}};let u=v;return v.\u0275fac=function(n){return new(n||v)},v.\u0275cmp=i.Xpm({type:v,selectors:[["app-pagination"]],inputs:{count:"count",initialPage:"initialPage",pageSize:"pageSize",maxPages:"maxPages"},outputs:{changePage:"changePage"},features:[i.TTD],decls:1,vars:1,consts:[["class","pagination",4,"ngIf"],[1,"pagination"],[1,"page-item","first-item","pointer",3,"ngClass"],[1,"page-link","pointer",3,"click"],[1,"mdi","mdi-chevron-double-left"],[1,"page-item","previous-item","pointer","re-mr-right",3,"ngClass"],[1,"page-link",3,"click"],[1,"mdi","mdi-chevron-left"],["class","page-item number-item pointer re-number",3,"ngClass",4,"ngFor","ngForOf"],[1,"page-item","next-item","pointer","re-mr-left",3,"ngClass"],[1,"mdi","mdi-chevron-right"],[1,"page-item","last-item","pointer",3,"ngClass"],[1,"mdi","mdi-chevron-double-right"],[1,"page-item","number-item","pointer","re-number",3,"ngClass"]],template:function(n,p){1&n&&i.YNc(0,U,14,13,"ul",0),2&n&&i.Q6J("ngIf",p.pager.pages&&p.pager.pages.length&&p.count>p.limit)},dependencies:[_.mk,_.sg,_.O5]}),u})()},8825:(P,M,c)=>{c.r(M),c.d(M,{MediaModule:()=>rt});var i=c(6895),_=c(8869),t=c(4650),h=c(433),f=c(2340),U=c(9485),T=c(6570),u=c(6913),v=c(9207);const g=["uploader"];function o(e,r){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Media Name is required"),t.qZA())}function n(e,r){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Description is required"),t.qZA())}function p(e,r){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Please Select File Type"),t.qZA())}function Z(e,r){if(1&e&&t._UZ(0,"img",36),2&e){const s=t.oxw(2);t.hYB("src","",s.imagePath,"media/",s.mediaFile,"",t.LSH)}}function x(e,r){if(1&e){const s=t.EpF();t.TgZ(0,"div",10)(1,"label",11),t._uU(2,"Media Image"),t.qZA(),t.TgZ(3,"input",33,34),t.NdJ("uploadOutput",function(l){t.CHM(s);const a=t.oxw();return t.KtG(a.onUploadOutput(l))}),t.qZA(),t.YNc(5,Z,1,2,"img",35),t.qZA()}if(2&e){const s=t.oxw();t.xp6(3),t.Q6J("uploadInput",s.uploadInput),t.xp6(2),t.Q6J("ngIf",s.mediaFile)}}function A(e,r){if(1&e&&(t.TgZ(0,"video",39),t._UZ(1,"source",40),t.qZA()),2&e){const s=t.oxw(2);t.xp6(1),t.hYB("src","",s.imagePath,"media/",s.mediaFile,"",t.LSH)}}function b(e,r){if(1&e){const s=t.EpF();t.TgZ(0,"div",10)(1,"label",11),t._uU(2,"Media Video"),t.qZA(),t.TgZ(3,"input",37,34),t.NdJ("uploadOutput",function(l){t.CHM(s);const a=t.oxw();return t.KtG(a.onUploadVideo(l))}),t.qZA(),t.YNc(5,A,2,2,"video",38),t.qZA()}if(2&e){const s=t.oxw();t.xp6(3),t.Q6J("uploadInput",s.uploadInput),t.xp6(2),t.Q6J("ngIf",s.mediaFile)}}function y(e,r){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Alt is required"),t.qZA())}function E(e,r){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Landing is required"),t.qZA())}function N(e,r){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Type is required"),t.qZA())}function w(e,r){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Mute is required"),t.qZA())}function F(e,r){if(1&e&&(t.TgZ(0,"div",10)(1,"label",11),t._uU(2,"Mute"),t.qZA(),t._UZ(3,"input",41),t.YNc(4,w,2,0,"span",13),t.qZA()),2&e){const s=t.oxw();t.xp6(4),t.Q6J("ngIf",s.submitted&&s.hasError("mute","required"))}}function J(e,r){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Please Select Autoplay"),t.qZA())}function D(e,r){if(1&e&&(t.TgZ(0,"div",10)(1,"label",11),t._uU(2,"Autoplay"),t.qZA(),t.TgZ(3,"select",42)(4,"option",19),t._uU(5,"Select Autoplay"),t.qZA(),t.TgZ(6,"option",28),t._uU(7,"Active"),t.qZA(),t.TgZ(8,"option",29),t._uU(9,"Deactive"),t.qZA()(),t.YNc(10,J,2,0,"span",13),t.qZA()),2&e){const s=t.oxw();t.xp6(10),t.Q6J("ngIf",s.submitted&&s.hasError("autoplay","required"))}}function Q(e,r){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Please Select Loop"),t.qZA())}function Y(e,r){if(1&e&&(t.TgZ(0,"div",10)(1,"label",11),t._uU(2,"Select Loop"),t.qZA(),t.TgZ(3,"select",43)(4,"option",19),t._uU(5,"Select Loop"),t.qZA(),t.TgZ(6,"option",28),t._uU(7,"Active"),t.qZA(),t.TgZ(8,"option",29),t._uU(9,"Deactive"),t.qZA()(),t.YNc(10,Q,2,0,"span",13),t.qZA()),2&e){const s=t.oxw();t.xp6(10),t.Q6J("ngIf",s.submitted&&s.hasError("loop","required"))}}function R(e,r){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Full Screen is required"),t.qZA())}function H(e,r){if(1&e&&(t.TgZ(0,"div",10)(1,"label",11),t._uU(2,"Full Screen"),t.qZA(),t._UZ(3,"input",44),t.YNc(4,R,2,0,"span",13),t.qZA()),2&e){const s=t.oxw();t.xp6(4),t.Q6J("ngIf",s.submitted&&s.hasError("full_screen","required"))}}function L(e,r){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Additional Params is required"),t.qZA())}function k(e,r){1&e&&(t.TgZ(0,"span",32),t._uU(1,"Please Select Status"),t.qZA())}let S=(()=>{const r=class{constructor(d,l,a,m,C){this.router=d,this.route=l,this.formBuilder=a,this.mediaService=m,this.toastr=C,this.imageArr=[],this.submitted=!1,this.msg_success=!1,this.msg_danger=!1,this.isEdit="edit"===this.route.snapshot.data.title,this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"200px",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"blog-descriptiondetail",name:"Rajdhani sans-serif"}]},this.hasError=(dt,lt)=>this.addmediaForm.controls[dt].hasError(lt),this.uploadInput=new t.vpe,this.addmediaForm=this.formBuilder.group({name:["",h.kI.required],status:[!0,h.kI.required],description:[""],short_desc:[""],src:[""],height:[""],width:[""],alt:[""],style:[""],landing:[""],type:[""],format:[""],file_type:["image"],mute:["muted"],autoplay:[!0],loop:[!0],full_screen:[""],additional_params:[""]}),this.token=localStorage.getItem("ghoastrental-token"),this.imagePath=f.N.baseUrl+"/public/"}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.isEdit?(this.patchingdata(this.id),this.applyAction="Update"):this.applyAction="Add"}patchingdata(d){this.mediaService.getMediaWithId({id:d}).subscribe(a=>{if(200==a.code){let m=a?.result;this.mediaFile=m?.src,this.addmediaForm.patchValue({name:m?.name,status:m?.status,description:m?.description,short_desc:m?.short_desc,height:m?.height,width:m?.width,alt:m?.alt,style:m?.style,landing:m?.landing,type:m?.type,format:m?.format,file_type:m?.file_type,mute:m?.mute,autoplay:m?.autoplay,loop:m?.loop,full_screen:m?.full_screen,additional_params:m?.additional_params})}})}onSubmit(){this.submitted=!0;let d=this.addmediaForm.value,l=this.id;d.token=this.token,d.src=this.mediaFile,d.format=this.fileFormat,!this.addmediaForm.invalid&&(this.isEdit?this.mediaService.editMediadata(d,l).subscribe(a=>{200==a.code?(this.throw_msg=a.message,this.msg_success=!0,this.toastr.successToastr(a.message),setTimeout(()=>{this.router.navigate(["/media/view"])},2e3)):(this.throw_msg=a.message,this.msg_danger=!0,this.toastr.errorToastr(a.message))}):this.mediaService.addMedia(d).subscribe(a=>{200==a.code?(this.toastr.successToastr(a.message),this.throw_msg=a.message,this.msg_success=!0,setTimeout(()=>{this.router.navigate(["/media/view"])},2e3)):(this.throw_msg=a.message,this.msg_danger=!0,this.toastr.errorToastr(a.message))}))}onUploadOutput(d){"allAddedToQueue"===d.type?this.uploadInput.emit({type:"uploadAll",url:f.N.baseUrl+"/api/media/addimage",method:"POST",data:{}}):"done"===d.type&&typeof d.file<"u"&&(this.fileFormat=d.file.type,this.mediaFile=d.file.response.result)}onUploadVideo(d){"allAddedToQueue"===d.type?this.uploadInput.emit({type:"uploadAll",url:f.N.baseUrl+"/api/media/addVideo",method:"POST",data:{}}):"done"===d.type&&typeof d.file<"u"&&(this.fileFormat=d.file.type,this.mediaFile=d.file.response.result)}};let e=r;return r.\u0275fac=function(l){return new(l||r)(t.Y36(_.F0),t.Y36(_.gz),t.Y36(h.qu),t.Y36(U.y),t.Y36(T.eP))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-edit-media"]],viewQuery:function(l,a){if(1&l&&t.Gf(g,5,t.SBq),2&l){let m;t.iGM(m=t.CRH())&&(a.fileInput=m.first)}},decls:84,vars:16,consts:[[1,"container-fluid","mt--7"],[1,"row"],[1,"col-xl-12","order-xl-1"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"row","align-items-center"],[1,"col-md-8","col-sm-10","col-12"],[1,"mb-0"],[1,"card-body"],["method","post","novalidate","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","name","name","autocomplete","off","formControlName","name","placeholder","Media Name",1,"form-control"],["class","alert-danger",4,"ngIf"],["name","description","formControlName","description",3,"config"],["name","short_desc","autocomplete","off","formControlName","short_desc","placeholder","Short Description",1,"form-control"],["type","number","name","height","autocomplete","off","formControlName","height","placeholder","Height",1,"form-control"],["type","number","name","width","autocomplete","off","formControlName","width","placeholder","Width",1,"form-control"],["name","file_type","formControlName","file_type",1,"form-control"],["value",""],["value","image"],["value","video"],["class","form-group",4,"ngIf"],["type","text","name","alt","autocomplete","off","formControlName","alt","placeholder","Alt",1,"form-control"],["type","text","name","landing","autocomplete","off","formControlName","landing","placeholder","Landing",1,"form-control"],["type","text","name","type","autocomplete","off","formControlName","type","placeholder","Type",1,"form-control"],["name","additional_params","autocomplete","off","formControlName","additional_params","placeholder","Additional Params",1,"form-control"],["name","status","formControlName","status",1,"form-control"],["value","true"],["value","false"],[1,"box-footer"],["type","submit",1,"btn","btn-button"],[1,"alert-danger"],["type","file","ngFileSelect","","accept","image/*",3,"uploadInput","uploadOutput"],["uploader",""],["alt","logo","style","height: 100px; width: 100px;margin-top: 5px;",3,"src",4,"ngIf"],["alt","logo",2,"height","100px","width","100px","margin-top","5px",3,"src"],["type","file","ngFileSelect","","accept","video/*",3,"uploadInput","uploadOutput"],["width","320","height","240","controls","",4,"ngIf"],["width","320","height","240","controls",""],["type","video/mp4",3,"src"],["type","text","name","mute","autocomplete","off","formControlName","mute","placeholder","Mute",1,"form-control"],["name","autoplay","formControlName","autoplay",1,"form-control"],["name","loop","formControlName","loop",1,"form-control"],["type","text","name","full_screen","autocomplete","off","formControlName","full_screen","placeholder","Full Screen",1,"form-control"]],template:function(l,a){1&l&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h3",7),t._uU(8,"Edit Media"),t.qZA()()()(),t.TgZ(9,"div",8)(10,"form",9),t.NdJ("ngSubmit",function(){return a.onSubmit()}),t.TgZ(11,"div",10)(12,"label",11),t._uU(13,"Name"),t.qZA(),t._UZ(14,"input",12),t.YNc(15,o,2,0,"span",13),t.qZA(),t.TgZ(16,"div",10)(17,"label",11),t._uU(18,"Description"),t.qZA(),t._UZ(19,"angular-editor",14),t.YNc(20,n,2,0,"span",13),t.qZA(),t.TgZ(21,"div",10)(22,"label",11),t._uU(23,"Short Description"),t.qZA(),t._UZ(24,"input",15),t.qZA(),t.TgZ(25,"div",10)(26,"label",11),t._uU(27,"Height"),t.qZA(),t._UZ(28,"input",16),t.qZA(),t.TgZ(29,"div",10)(30,"label",11),t._uU(31,"Width"),t.qZA(),t._UZ(32,"input",17),t.qZA(),t.TgZ(33,"div",10)(34,"label",11),t._uU(35,"File Type"),t.qZA(),t.TgZ(36,"select",18)(37,"option",19),t._uU(38,"Select File Type"),t.qZA(),t.TgZ(39,"option",20),t._uU(40,"Image"),t.qZA(),t.TgZ(41,"option",21),t._uU(42,"Video"),t.qZA()(),t.YNc(43,p,2,0,"span",13),t.qZA(),t.YNc(44,x,6,2,"div",22),t.YNc(45,b,6,2,"div",22),t.TgZ(46,"div",10)(47,"label",11),t._uU(48,"Alt"),t.qZA(),t._UZ(49,"input",23),t.YNc(50,y,2,0,"span",13),t.qZA(),t.TgZ(51,"div",10)(52,"label",11),t._uU(53,"Landing"),t.qZA(),t._UZ(54,"input",24),t.YNc(55,E,2,0,"span",13),t.qZA(),t.TgZ(56,"div",10)(57,"label",11),t._uU(58,"type"),t.qZA(),t._UZ(59,"input",25),t.YNc(60,N,2,0,"span",13),t.qZA(),t.YNc(61,F,5,1,"div",22),t.YNc(62,D,11,1,"div",22),t.YNc(63,Y,11,1,"div",22),t.YNc(64,H,5,1,"div",22),t.TgZ(65,"div",10)(66,"label",11),t._uU(67,"Additional Params"),t.qZA(),t._UZ(68,"textarea",26),t.YNc(69,L,2,0,"span",13),t.qZA(),t.TgZ(70,"div",10)(71,"label",11),t._uU(72,"Select Status"),t.qZA(),t.TgZ(73,"select",27)(74,"option",19),t._uU(75,"Select Status"),t.qZA(),t.TgZ(76,"option",28),t._uU(77,"Active"),t.qZA(),t.TgZ(78,"option",29),t._uU(79,"Deactive"),t.qZA()(),t.YNc(80,k,2,0,"span",13),t.qZA(),t.TgZ(81,"div",30)(82,"button",31),t._uU(83,"Submit"),t.qZA()()()()()()()()),2&l&&(t.xp6(10),t.Q6J("formGroup",a.addmediaForm),t.xp6(5),t.Q6J("ngIf",a.submitted&&a.hasError("name","required")),t.xp6(4),t.Q6J("config",a.editorConfig),t.xp6(1),t.Q6J("ngIf",a.submitted&&a.hasError("description","required")),t.xp6(23),t.Q6J("ngIf",a.submitted&&a.hasError("file_type","required")),t.xp6(1),t.Q6J("ngIf","image"==a.addmediaForm.value.file_type),t.xp6(1),t.Q6J("ngIf","video"==a.addmediaForm.value.file_type),t.xp6(5),t.Q6J("ngIf",a.submitted&&a.hasError("alt","required")),t.xp6(5),t.Q6J("ngIf",a.submitted&&a.hasError("landing","required")),t.xp6(5),t.Q6J("ngIf",a.submitted&&a.hasError("type","required")),t.xp6(1),t.Q6J("ngIf","video"==a.addmediaForm.value.file_type),t.xp6(1),t.Q6J("ngIf","video"==a.addmediaForm.value.file_type),t.xp6(1),t.Q6J("ngIf","video"==a.addmediaForm.value.file_type),t.xp6(1),t.Q6J("ngIf","video"==a.addmediaForm.value.file_type),t.xp6(5),t.Q6J("ngIf",a.submitted&&a.hasError("additional_params","required")),t.xp6(11),t.Q6J("ngIf",a.submitted&&a.hasError("status","required")))},dependencies:[i.O5,h._Y,h.YN,h.Kr,h.Fj,h.wV,h.EJ,h.JJ,h.JL,h.sg,h.u,u.qx,v.s6]}),e})();var q=c(5826),I=c(1454),V=c(8503),B=c(8601),K=c(3447);function W(e,r){1&e&&(t.TgZ(0,"td",17)(1,"div",18),t._uU(2," Media List is Empty "),t.qZA()())}function G(e,r){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&e){const s=t.oxw().index;t.xp6(1),t.Oqu(s+1)}}function z(e,r){if(1&e&&(t.TgZ(0,"td"),t._uU(1),t.qZA()),2&e){const s=t.oxw().index,d=t.oxw();t.xp6(1),t.Oqu(s+1+(d.currentPage-1)*d.currentLimit)}}function j(e,r){if(1&e&&t._UZ(0,"img",27),2&e){const s=t.oxw().$implicit;t.s9C("src",s.src,t.LSH)}}function $(e,r){if(1&e&&(t.TgZ(0,"video",28),t._UZ(1,"source",29),t.qZA()),2&e){const s=t.oxw().$implicit;t.xp6(1),t.s9C("src",s.src,t.LSH)}}function X(e,r){if(1&e){const s=t.EpF();t.TgZ(0,"tr"),t.YNc(1,G,2,1,"td",19),t.YNc(2,z,2,1,"td",19),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t.YNc(6,j,1,1,"img",20),t.YNc(7,$,2,1,"video",21),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.ALo(16,"date"),t.qZA(),t.TgZ(17,"td")(18,"button",22),t._uU(19,"Copy"),t.qZA()(),t.TgZ(20,"td")(21,"a",23),t._UZ(22,"i",24),t.qZA(),t.TgZ(23,"a",25),t.NdJ("click",function(){const a=t.CHM(s).$implicit,m=t.oxw(),C=t.MAs(41);return t.KtG(m.open(C,a))}),t._UZ(24,"i",26),t.qZA()()()}if(2&e){const s=r.$implicit,d=t.oxw();t.xp6(1),t.Q6J("ngIf",1==d.currentPage),t.xp6(1),t.Q6J("ngIf",1!=d.currentPage),t.xp6(2),t.Oqu(s.name),t.xp6(2),t.Q6J("ngIf","image"==s.file_type),t.xp6(1),t.Q6J("ngIf","video"==s.file_type),t.xp6(2),t.Oqu(s.file_type),t.xp6(2),t.Oqu(s.format),t.xp6(2),t.Oqu(1==s.status?"Enabled":"Disable"),t.xp6(2),t.Oqu(t.xi3(16,11,s.created_at,"dd/MMM/yyyy hh:mm a")),t.xp6(3),t.Q6J("cbContent",s.src),t.xp6(3),t.MGl("routerLink","/media/edit/",s._id,"")}}function tt(e,r){if(1&e){const s=t.EpF();t.TgZ(0,"div",30)(1,"app-pagination",31,32),t.NdJ("changePage",function(l){t.CHM(s);const a=t.oxw();return t.KtG(a.onListChangePage(l))}),t.qZA()()}if(2&e){const s=t.oxw();t.xp6(1),t.Q6J("initialPage",s.currentPage)("count",s.totalRecord)}}function et(e,r){if(1&e&&(t.TgZ(0,"p")(1,"strong"),t._uU(2,"Are you sure you want to delete "),t.TgZ(3,"span",40),t._uU(4),t.qZA(),t._uU(5," Media?"),t.qZA()()),2&e){const s=t.oxw(2);t.xp6(4),t.hij('"',s.selectedMedia.name,'"')}}function it(e,r){if(1&e){const s=t.EpF();t.TgZ(0,"div",33)(1,"h4",34),t._uU(2,"Media"),t.qZA(),t.TgZ(3,"button",35),t.NdJ("click",function(){const a=t.CHM(s).$implicit;return t.KtG(a.dismiss("Cross click"))}),t._uU(4,"close"),t.qZA()(),t.TgZ(5,"div",36),t.YNc(6,et,6,1,"p",19),t.TgZ(7,"p"),t._uU(8," All information associated to this Media will be permanently deleted. "),t.TgZ(9,"span",37),t._uU(10,"This operation can not be undone."),t.qZA()()(),t.TgZ(11,"div",38)(12,"button",39),t.NdJ("click",function(){const a=t.CHM(s).$implicit;return t.KtG(a.dismiss("cancel click"))}),t._uU(13,"Cancel"),t.qZA(),t.TgZ(14,"button",39),t.NdJ("click",function(){t.CHM(s);const l=t.oxw();return t.KtG(l.deleteMedia())}),t._uU(15,"Ok"),t.qZA()()}if(2&e){const s=t.oxw();t.xp6(6),t.Q6J("ngIf",s.selectedMedia)}}let O=(()=>{const r=class{constructor(d,l,a,m,C){this.router=d,this.loginService=l,this.mediaService=a,this.modalService=m,this.activeModal=C,this.msg_danger=!1,this.vendorid="",this.currentPage=1,this.initialized=!1,this.currentLimit=10,this.totalRecord=0,this.closeResult="",this.modalReference=null,this.imagePath=f.N.baseUrl+"/public/",this.token=localStorage.getItem("ghoastrental-token")}ngOnInit(){this.get_MediaData()}get_MediaData(){this.mediaService.getMediaDetails({limit:this.currentLimit,page:this.currentPage,token:this.token}).subscribe(l=>{200==l.code&&(null!=l.result&&""!=l.result?(this.MediaData=l.result,this.totalRecord=l?.count,this.MediaData.forEach(a=>{a.src=a&&a.src&&a.src.includes("media")?this.imagePath+"media/"+a.src:this.imagePath+a.src})):this.msg_danger=!0)})}deleteMedia(){this.selectedMedia&&this.mediaService.deletemedia({id:this.selectedMedia._id,file:this.selectedMedia.src}).subscribe(l=>{200==l.code&&(this.get_MediaData(),this.router.navigate(["/media/view"]),this.modalService.dismissAll())})}onListChangePage(d){this.currentPage=d,this.get_MediaData()}open(d,l){this.selectedMedia=l,this.selectedMedia&&(this.modalReference=this.modalService.open(d,{ariaLabelledBy:"modal-basic-title"}).result.then(m=>{this.closeResult=`Closed with: ${m}`},m=>{this.closeResult=`Dismissed ${this.getDismissReason(m)}`}))}getDismissReason(d){return d===I.If.ESC?"by pressing ESC":d===I.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${d}`}closeModal(){this.activeModal.close()}};let e=r;return r.\u0275fac=function(l){return new(l||r)(t.Y36(_.F0),t.Y36(V.r),t.Y36(U.y),t.Y36(I.FF),t.Y36(I.Kz))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-view-media"]],decls:42,vars:3,consts:[[1,"container-fluid","mt--7"],[1,"row"],[1,"col"],[1,"card","shadow"],[1,"card-header","border-0"],[1,"mb-0"],[1,"card-body"],[1,"col-md-12"],[1,"col-md-6"],["type","button","routerLink","/media/add",1,"btn","btn-button","ml-auto","mb-4"],[1,"table-responsive"],[1,"table","align-items-center","table-flush"],["colspan","5",4,"ngIf"],[4,"ngFor","ngForOf"],["class","pcommece-pagination",4,"ngIf"],["style","z-index: 0;"],["content",""],["colspan","5"],[1,"alert","alert-dismissable",2,"text-align","center"],[4,"ngIf"],["alt","logo","style","height: 100px;width: 100px;",3,"src",4,"ngIf"],["width","100","height","100","controls","",4,"ngIf"],["ngxClipboard","",1,"btn-smallbutton",3,"cbContent"],[2,"cursor","pointer",3,"routerLink"],["aria-hidden","true",1,"mdi","mdi-lead-pencil"],[2,"cursor","pointer","padding-left","15px",3,"click"],["aria-hidden","true",1,"mdi","mdi-close-box"],["alt","logo",2,"height","100px","width","100px",3,"src"],["width","100","height","100","controls",""],["type","video/mp4",3,"src"],[1,"pcommece-pagination"],[3,"initialPage","count","changePage"],["pagination",""],[1,"modal-header"],["id","modal-title",1,"modal-title"],["type","button","aria-describedby","modal-title",1,"btn","btn-button",3,"click"],[1,"modal-body"],[1,"text-danger"],[1,"modal-footer"],["type","button",1,"btn","btn-button",3,"click"],[1,"text-primary"]],template:function(l,a){1&l&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),t._uU(6,"Media List"),t.qZA()(),t.TgZ(7,"div",6)(8,"div",7)(9,"div",1),t._UZ(10,"div",8),t.TgZ(11,"div",8)(12,"button",9),t._uU(13,"Add Media"),t.qZA()()()(),t.TgZ(14,"div",10)(15,"table",11)(16,"thead")(17,"tr")(18,"th"),t._uU(19,"SL No"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"Media Name"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"Media Image"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"Media File Type"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Media Format"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Status"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Created At"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"Src"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"Action"),t.qZA()()(),t.TgZ(36,"tbody"),t.YNc(37,W,3,0,"td",12),t.YNc(38,X,25,14,"tr",13),t.qZA()(),t.YNc(39,tt,3,2,"div",14),t.qZA()()()()(),t.YNc(40,it,16,1,"ng-template",15,16,t.W1O),t.qZA()),2&l&&(t.xp6(37),t.Q6J("ngIf",a.msg_danger),t.xp6(1),t.Q6J("ngForOf",a.MediaData),t.xp6(1),t.Q6J("ngIf",a.totalRecord>0))},dependencies:[i.sg,i.O5,_.rH,B.Q,K.yb,i.uU],styles:[".pcommece-pagination{display:inline-block;width:100%;text-align:center}  .pcommece-pagination .pagination{justify-content:center;margin-top:1rem;align-items:center}  .btn-primary{color:#fff;background-color:#ff5e14;border-color:#ff5e14}  .title{font-size:30px}  .box-title{font-size:60px}  .cdis{display:flex;align-items:center;margin-bottom:15px}  .cdis button{margin-left:10px}  .modal-backdrop{position:inherit!important}    .modal-backdrop{z-index:0!important}"]}),e})();const at=[{path:"",component:O,canActivate:[q.a]},{path:"add",component:S,canActivate:[q.a],data:{title:"add"}},{path:"view",component:O,canActivate:[q.a]},{path:"edit/:id",component:S,canActivate:[q.a],data:{title:"edit"}},{path:"**",component:O,canActivate:[q.a]}];let nt=(()=>{const r=class{};let e=r;return r.\u0275fac=function(l){return new(l||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[_.Bz.forChild(at),_.Bz]}),e})();var ot=c(1310),st=c(3189);let rt=(()=>{const r=class{};let e=r;return r.\u0275fac=function(l){return new(l||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[i.ez,nt,h.u5,h.UX,u.TA,v.UM,st.h,ot.j,K.Iq]}),e})()},8503:(P,M,c)=>{c.d(M,{r:()=>U});var i=c(262),_=c(529),t=c(2843),h=c(2340),f=c(4650);let U=(()=>{const u=class{constructor(g){this.http=g,this.validateLogin=o=>this.http.post(h.N.baseUrl+"/api/users/login",o,{observe:"response"}).pipe((0,i.K)(p=>(0,t._)(p))),this.updateProfile=o=>this.http.post(h.N.baseUrl+"/api/users/updateprofile",o,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,t._)(p))),this.editProfile=o=>this.http.post(h.N.baseUrl+"/api/users/edituserprofile",o,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,t._)(p))),this.createrofile=o=>this.http.post(h.N.baseUrl+"/api/users/registerUser",o,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,t._)(p))),this.getUser=o=>this.http.post(h.N.baseUrl+"/api/users/getuserwithid",o,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,t._)(p))),this.getallusers=o=>this.http.post(h.N.baseUrl+"/api/users/adminuserview",o,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,t._)(p))),this.deleteuser=o=>this.http.post(h.N.baseUrl+"/api/users/deleteuser",o,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,t._)(p)))}getRequestHeaders(){let g;const o=localStorage.getItem("ghoastrental-token");return g=new _.WM({Authorization:`Bearer ${o}`}),{headers:g}}};let T=u;return u.\u0275fac=function(o){return new(o||u)(f.LFG(_.eN))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),T})()},9485:(P,M,c)=>{c.d(M,{y:()=>U});var i=c(262),_=c(2843),t=c(2340),h=c(529),f=c(4650);let U=(()=>{const u=class{constructor(g){this.http=g,this.getMediaDetails=o=>this.http.post(t.N.baseUrl+"/api/media/viewallMedia",o,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,_._)(p))),this.getMediaWithId=o=>this.http.post(t.N.baseUrl+"/api/media/getMediaWithId",o,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,_._)(p))),this.addMedia=o=>this.http.post(t.N.baseUrl+"/api/media/addMedia",o,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,_._)(p))),this.editMediadata=(o,n)=>{let p=t.N.baseUrl+"/api/media/editMediadata";return n&&(p+=`?id=${n}`),this.http.post(p,o,this.getRequestHeaders()).pipe((0,i.K)(Z=>(0,_._)(Z)))},this.deletemedia=o=>this.http.post(t.N.baseUrl+"/api/media/deletemedia",o,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,_._)(p))),this.deleteSelectedMedia=o=>this.http.post(t.N.baseUrl+"/api/media/deleteallmedias",o,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,_._)(p))),this.getallMediaDetails=o=>this.http.post(t.N.baseUrl+"/api/media/getAllMedia",o,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,_._)(p))),this.deletefile=o=>this.http.post(t.N.baseUrl+"/api/media/deletefile",o,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,_._)(p))),this.deletemultifiles=o=>this.http.post(t.N.baseUrl+"/api/media/deletemultifiles",o,this.getRequestHeaders()).pipe((0,i.K)(p=>(0,_._)(p)))}getRequestHeaders(){let g;const o=localStorage.getItem("ghoastrental-token");return g=new h.WM({Authorization:`Bearer ${o}`}),{headers:g}}};let T=u;return u.\u0275fac=function(o){return new(o||u)(f.LFG(h.eN))},u.\u0275prov=f.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),T})()}}]);